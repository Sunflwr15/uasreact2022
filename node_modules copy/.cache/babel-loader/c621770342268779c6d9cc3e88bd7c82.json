{"ast":null,"code":"var _jsxFileName = \"/Volumes/gathfam/1Gathfan/SMK/Pak Ihsan/FullstackDevelopment/React-Abi-state-management/src/pages/article/createArticle.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Input from \"../../komponen/input\";\nimport Button from \"../../komponen/button\";\nimport { useNavigate } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport { createArticle } from \"../../API/article\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CreateArticle = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [article, setArticle] = React.useState({\n    judul: \"\",\n    artikel: \"\",\n    thumbnail: \"\",\n    imagePreview: null\n  });\n  let [errorMessage, setErrorMessage] = React.useState(\"\");\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [error, setError] = React.useState({});\n\n  const handleChange = e => {\n    setArticle(article => {\n      return { ...article,\n        [e.target.name]: e.target.value\n      };\n    });\n  };\n\n  const handleSubmit = async e => {\n    console.log(article);\n\n    try {\n      setIsLoading(true);\n      e.preventDefault();\n      const response = await createArticle(article);\n      const Toast = Swal.mixin({\n        toast: true,\n        position: \"top-end\",\n        showConfirmButton: false,\n        timer: 1500,\n        timerProgressBar: true,\n        didOpen: toast => {\n          toast.addEventListener(\"mouseenter\", Swal.stopTimer);\n          toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\n        }\n      });\n      Toast.fire({\n        icon: \"success\",\n        title: \"Berhasil Membuat Article\"\n      });\n      return navigate(\"/article\", {\n        replace: true\n      });\n    } catch (err) {} finally {\n      setIsLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col justify-center items-center bg-white  h-[37rem] \",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" w-[25rem]  flex flex-col items-center bg-[#e8e8e8] rounded-xl py-3 shadow-xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl my-3 font-bold font-mono\",\n        children: \"Tambah Article\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-200 italic  px-2 py-1\",\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          value: article.judul,\n          placeholder: \"Judul Article\",\n          onChange: handleChange,\n          name: \"judul\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          value: article.artikel,\n          placeholder: \"Isi Article\",\n          onChange: handleChange,\n          name: \"artikel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"thumbnail\",\n          type: \"file\",\n          value: article === null || article === void 0 ? void 0 : article.file,\n          placeholder: \"Gambar\",\n          onChange: e => {\n            console.log(\"event =>\", e.target.files[0]);\n            let file = e.target.files[0];\n\n            if (file.size >= 100000) {\n              return alert(\"ukuran lebuh dari 100 kb\");\n            }\n\n            if (file.type === \"image/jpeg\" || file.type === \"image/png\" || file.type === \"application/pdf\") {\n              let reader = new FileReader();\n              reader.readAsDataURL(file);\n\n              reader.onloadend = () => {\n                setArticle(article => {\n                  return { ...article,\n                    imagePreview: reader.result,\n                    thumbnail: file\n                  };\n                });\n              };\n\n              console.log(\"ok\");\n            } else {\n              const Toast = Swal.mixin({\n                toast: true,\n                position: \"top-end\",\n                showConfirmButton: false,\n                timer: 1500,\n                timerProgressBar: true,\n                didOpen: toast => {\n                  toast.addEventListener(\"mouseenter\", Swal.stopTimer);\n                  toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\n                }\n              });\n              Toast.fire({\n                icon: \"error\",\n                title: \"file harus image atau pdf\"\n              });\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: article.imagePreview,\n          alt: article.imagePreview,\n          className: \"w-20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-5 \",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            title: isLoading ? \"sedang menyimpan\" : \"simpan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              return navigate(\"/article\", {\n                replace: true\n              });\n            },\n            title: \"Kembali\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CreateArticle, \"oIAtw+jeN7bRTjjpAM5/3oSybqQ=\", false, function () {\n  return [useNavigate];\n});\n\n_c = CreateArticle;\nexport default CreateArticle;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateArticle\");","map":{"version":3,"names":["React","Input","Button","useNavigate","Swal","createArticle","CreateArticle","navigate","article","setArticle","useState","judul","artikel","thumbnail","imagePreview","errorMessage","setErrorMessage","isLoading","setIsLoading","error","setError","handleChange","e","target","name","value","handleSubmit","console","log","preventDefault","response","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","fire","icon","title","replace","err","file","files","size","alert","type","reader","FileReader","readAsDataURL","onloadend","result"],"sources":["/Volumes/gathfam/1Gathfan/SMK/Pak Ihsan/FullstackDevelopment/React-Abi-state-management/src/pages/article/createArticle.jsx"],"sourcesContent":["import React from \"react\";\nimport Input from \"../../komponen/input\";\nimport Button from \"../../komponen/button\";\nimport { useNavigate } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport { createArticle } from \"../../API/article\";\nconst CreateArticle = () => {\n  const navigate = useNavigate();\n  const [article, setArticle] = React.useState({\n    judul: \"\",\n    artikel: \"\",\n    thumbnail: \"\",\n    imagePreview: null,\n  });\n  let [errorMessage, setErrorMessage] = React.useState(\"\");\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [error, setError] = React.useState({});\n\n  const handleChange = (e) => {\n    setArticle((article) => {\n      return {\n        ...article,\n        [e.target.name]: e.target.value,\n      };\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    console.log(article);\n\n    try {\n      setIsLoading(true);\n      e.preventDefault();\n      const response = await createArticle(article);\n      const Toast = Swal.mixin({\n        toast: true,\n        position: \"top-end\",\n        showConfirmButton: false,\n        timer: 1500,\n        timerProgressBar: true,\n        didOpen: (toast) => {\n          toast.addEventListener(\"mouseenter\", Swal.stopTimer);\n          toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\n        },\n      });\n\n      Toast.fire({\n        icon: \"success\",\n        title: \"Berhasil Membuat Article\",\n      });\n      return navigate(\"/article\", { replace: true });\n    } catch (err) {\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col justify-center items-center bg-white  h-[37rem] \">\n      <div className=\" w-[25rem]  flex flex-col items-center bg-[#e8e8e8] rounded-xl py-3 shadow-xl\">\n        <h1 className=\"text-xl my-3 font-bold font-mono\">Tambah Article</h1>\n        <p className=\"text-red-200 italic  px-2 py-1\">{errorMessage}</p>\n        <form action=\"\" onSubmit={handleSubmit}>\n          <Input\n            value={article.judul}\n            placeholder={\"Judul Article\"}\n            onChange={handleChange}\n            name={\"judul\"}\n          />\n          <Input\n            value={article.artikel}\n            placeholder={\"Isi Article\"}\n            onChange={handleChange}\n            name={\"artikel\"}\n          />\n          <input\n            name=\"thumbnail\"\n            type={\"file\"}\n            value={article?.file}\n            placeholder={\"Gambar\"}\n            onChange={(e) => {\n              console.log(\"event =>\", e.target.files[0]);\n              let file = e.target.files[0];\n              if (file.size >= 100000) {\n                return alert(\"ukuran lebuh dari 100 kb\");\n              }\n              if (\n                file.type === \"image/jpeg\" ||\n                file.type === \"image/png\" ||\n                file.type === \"application/pdf\"\n              ) {\n                let reader = new FileReader();\n                reader.readAsDataURL(file);\n                reader.onloadend = () => {\n                  setArticle((article) => {\n                    return {\n                      ...article,\n                      imagePreview: reader.result,\n                      thumbnail: file,\n                    };\n                  });\n                };\n                console.log(\"ok\");\n              } else {\n                const Toast = Swal.mixin({\n                  toast: true,\n                  position: \"top-end\",\n                  showConfirmButton: false,\n                  timer: 1500,\n                  timerProgressBar: true,\n                  didOpen: (toast) => {\n                    toast.addEventListener(\"mouseenter\", Swal.stopTimer);\n                    toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\n                  },\n                });\n\n                Toast.fire({\n                  icon: \"error\",\n                  title: \"file harus image atau pdf\",\n                });\n              }\n            }}\n          />\n          <img\n            src={article.imagePreview}\n            alt={article.imagePreview}\n            className=\"w-20\"\n          />\n\n          <div className=\"grid grid-cols-2 gap-5 \">\n            <Button title={isLoading ? \"sedang menyimpan\" : \"simpan\"} />\n            <Button\n              onClick={() => {\n                return navigate(\"/article\", { replace: true });\n              }}\n              title={\"Kembali\"}\n            />\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateArticle;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}