{"ast":null,"code":"import axios from \"axios\";\nimport Cookies from \"js-cookie\";\nconst clientLogin = axios.create({\n  baseURL: \"https://api-react-2.herokuapp.com/api\",\n  headers: {\n    Accept: \"application/json\",\n    Authorization: `Bearer ${Cookies.get(\"myapps_token\")}`\n  }\n});\nclient.interceptors.response.use(response => {\n  console.log(response);\n  return response;\n}, error => {\n  console.log(\"err\", error);\n\n  if (401 === error.response.status) {\n    Cookies.remove(\"myapps_token\");\n    clearToken();\n    localStorage.clear();\n    window.location.replace(\"/login\");\n  } else {\n    return Promise.rejectionrori;\n  }\n});\nexport const syncToken = () => {\n  client.defaults.headers[\"Authorization\"] = `Bearer ${Cookies.get(\"myapps_token\")}`;\n};\nexport const clearToken = () => {\n  delete client.defaults.headers[\"Authorization\"];\n};\nexport default clientLogin;","map":{"version":3,"names":["axios","Cookies","clientLogin","create","baseURL","headers","Accept","Authorization","get","client","interceptors","response","use","console","log","error","status","remove","clearToken","localStorage","clear","window","location","replace","Promise","rejectionrori","syncToken","defaults"],"sources":["/Volumes/gathfam/1Gathfan/SMK/Pak Ihsan/FullstackDevelopment/React-Abi-state-management/src/API/baseUrl2.js"],"sourcesContent":["import axios from \"axios\";\nimport Cookies from \"js-cookie\";\n\nconst clientLogin = axios.create({\n  baseURL: \"https://api-react-2.herokuapp.com/api\",\n  headers: {\n    Accept: \"application/json\",\n    Authorization: `Bearer ${Cookies.get(\"myapps_token\")}`,\n  },\n});\n\nclient.interceptors.response.use(\n  (response) => {\n    console.log(response);\n    return response;\n  },\n  (error) => {\n    console.log(\"err\", error);\n    if (401 === error.response.status) {\n      Cookies.remove(\"myapps_token\");\n      clearToken();\n      localStorage.clear();\n      window.location.replace(\"/login\");\n    } else {\n      return Promise.rejectionrori;\n    }\n  }\n);\nexport const syncToken = () => {\n  client.defaults.headers[\"Authorization\"] = `Bearer ${Cookies.get(\n    \"myapps_token\"\n  )}`;\n};\nexport const clearToken = () => {\n  delete client.defaults.headers[\"Authorization\"];\n};\n\nexport default clientLogin\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,MAAMC,WAAW,GAAGF,KAAK,CAACG,MAAN,CAAa;EAC/BC,OAAO,EAAE,uCADsB;EAE/BC,OAAO,EAAE;IACPC,MAAM,EAAE,kBADD;IAEPC,aAAa,EAAG,UAASN,OAAO,CAACO,GAAR,CAAY,cAAZ,CAA4B;EAF9C;AAFsB,CAAb,CAApB;AAQAC,MAAM,CAACC,YAAP,CAAoBC,QAApB,CAA6BC,GAA7B,CACGD,QAAD,IAAc;EACZE,OAAO,CAACC,GAAR,CAAYH,QAAZ;EACA,OAAOA,QAAP;AACD,CAJH,EAKGI,KAAD,IAAW;EACTF,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBC,KAAnB;;EACA,IAAI,QAAQA,KAAK,CAACJ,QAAN,CAAeK,MAA3B,EAAmC;IACjCf,OAAO,CAACgB,MAAR,CAAe,cAAf;IACAC,UAAU;IACVC,YAAY,CAACC,KAAb;IACAC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,QAAxB;EACD,CALD,MAKO;IACL,OAAOC,OAAO,CAACC,aAAf;EACD;AACF,CAfH;AAiBA,OAAO,MAAMC,SAAS,GAAG,MAAM;EAC7BjB,MAAM,CAACkB,QAAP,CAAgBtB,OAAhB,CAAwB,eAAxB,IAA4C,UAASJ,OAAO,CAACO,GAAR,CACnD,cADmD,CAEnD,EAFF;AAGD,CAJM;AAKP,OAAO,MAAMU,UAAU,GAAG,MAAM;EAC9B,OAAOT,MAAM,CAACkB,QAAP,CAAgBtB,OAAhB,CAAwB,eAAxB,CAAP;AACD,CAFM;AAIP,eAAeH,WAAf"},"metadata":{},"sourceType":"module"}